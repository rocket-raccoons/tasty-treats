{"version":3,"file":"footer-CSjTeHrM.js","sources":["../../src/js/header/nav.js","../../src/svg/sprite.svg","../../src/js/modal.js","../../src/js/footer.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    const themeToggle = document.getElementById('themeToggle');\n    const sideMenuThemeToggle = document.getElementById('sideMenuThemeToggle');\n    const mobileMenuToggle = document.getElementById('mobileMenuToggle');\n    const closeSideMenu = document.getElementById('closeSideMenu');\n    const sideMenu = document.getElementById('sideMenu');\n    const sunSideList = document.querySelectorAll('.sunSide');\n    const moonSideList = document.querySelectorAll('.moonSide');\n    const body = document.body;\n    function changedWeather(){\n        sunSideList.forEach((sunSide) => {\n            if(sunSide){\n                sunSide.classList.toggle('show');\n            }\n            \n        })\n        moonSideList.forEach((moonSide) => {\n            if(moonSide){\n                moonSide.classList.toggle('show');\n            }\n        })\n    }\n    function toggleDarkMode() {\n        body.classList.toggle('dark-mode');\n        themeToggle.classList.toggle('active');\n        sideMenuThemeToggle.classList.toggle('active');\n        changedWeather();\n        \n        const isDarkMode = body.classList.contains('dark-mode');\n        localStorage.setItem('darkMode', isDarkMode);\n    }\n\n    function toggleMobileMenu() { \n        if(!sideMenu.classList.contains('showSide')){\n            sideMenu.classList.add('showSide');\n        }\n        else{\n            sideMenu.classList.remove('showSide');\n        }\n    }\n    \n    themeToggle.addEventListener('click', toggleDarkMode);\n    sideMenuThemeToggle.addEventListener('click', toggleDarkMode);\n    mobileMenuToggle.addEventListener('click', toggleMobileMenu);\n    closeSideMenu.addEventListener('click', toggleMobileMenu);\n\n    const savedDarkMode = localStorage.getItem('darkMode');\n    if (savedDarkMode === 'true') {\n        body.classList.add('dark-mode');\n        themeToggle.classList.add('active');\n        sideMenuThemeToggle.classList.add('active');\n        changedWeather();\n    }\n\n    document.addEventListener('click', (event) => {\n        if (sideMenu.classList.contains('active') && !sideMenu.contains(event.target) && event.target !== mobileMenuToggle) {\n            sideMenu.classList.remove('active');\n        }\n    });\n});","export default \"__VITE_ASSET__B75pjiaY__\"","import sprite from '../svg/sprite.svg';\nlet favArr = JSON.parse(localStorage.getItem('favArr')) || [];\n// modal.js\nexport function initModal() {\n  const modal = document.getElementById('recipeModal');\n  const closeButton = modal.querySelector('.modal-close-button');\n\n  closeButton.onclick = closeModal;\n\n  window.onclick = function (event) {\n    if (event.target === modal) {\n      closeModal();\n    }\n  };\n\n  document.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape' && modal.style.display === 'block') {\n      closeModal();\n    }\n  });\n}\n\nexport async function openModal(recipeId) {\n  const modal = document.getElementById('recipeModal');\n  const modalContent = modal.querySelector('.modal-content');\n\n  // Show loading state\n  modalContent.innerHTML = '<p>Loading recipe details...</p>';\n  modal.style.display = 'block';\n\n  try {\n    const response = await fetch(\n      `https://tasty-treats-backend.p.goit.global/api/recipes/${recipeId}`\n    );\n    const recipe = await response.json();\n    const instructions = recipe.instructions.split('.').join('<br>');\n    const filledStars = Math.round(recipe.rating);\n    const emptyStars = 5 - filledStars;\n    // console.log(recipe.youtube);\n    // console.log(recipe.time);\n\n    // Update modal content with recipe details\n    modalContent.innerHTML = `\n        <div class= \"modal-heading\">\n          <div style=\"flex: 1;\">\n            <iframe class=\"modal-iframe\" src=\"https://www.youtube.com/embed/${new URL(\n              recipe.youtube\n            ).searchParams.get('v')}\" frameborder=\"0\" allowfullscreen></iframe>\n          </div>\n        <div class=\"modal-recipe-container\" style=\"flex: 1;\">\n        <h2>${recipe.title}</h2>\n        <div class=\"modal-rating-container\">\n        <div class=\"modal-star-container\">\n              <div class=\"rating-container\">\n                  <p class=\"rating-text\">${recipe.rating.toFixed(1)}</p>\n                  <div class=\"star-container\">\n                    ${`<svg class=\"card-star-svg\">\n                    <use href=\"${sprite}#icon-star\"></use>\n                      </svg>`.repeat(filledStars)}\n\n                    ${`<svg class=\"card-star-svg modal-empty-star\">\n                    <use href=\"${sprite}#icon-emptystar-modal\"></use>\n                    </svg>`.repeat(emptyStars)}\n                  </div>    \n                </div>\n        </div>\n        <p class=\"cooking-time\">${recipe.time} min</p>\n        </div>\n        <div class=\"modal-recipe-ingredients-container\">\n        <!-- <h3>Ingredients:</h3> -->\n        <ul class=\"modal-recipe-ingredients\">\n          ${recipe.ingredients\n            .map(\n              ing =>\n                `<li class=\"modal-recipe-ingredients-item\"><p class=\"ingredient\">${ing.name}</p><p class=\"ingredient-portion\"> ${ing.measure}</p></li>`\n            )\n            .join('')}\n        </ul>\n        </div>\n        </div>\n        </div>\n        <p class=\"modal-recipe-instructions\">${instructions}</p>\n        <div style=\"display: flex; gap: 20px; margin-top: 20px;\">\n          <button class=\"addToFavoriteButton\">Add to Favorite</button>\n          <button class=\"giveRatingButton\">Give a Rating</button>\n        </div>\n        </div>\n      `;\n    addModalFavListeners(recipeId);\n  } catch (error) {\n    console.error('Error fetching recipe details:', error);\n    modalContent.innerHTML =\n      '<p>Error loading recipe details. Please try again.</p>';\n  }\n}\n\nexport function closeModal() {\n  const modal = document.getElementById('recipeModal');\n  modal.style.display = 'none';\n}\n\nexport function addModalFavListeners(recipeId) {\n  const addToFavBtn = document.querySelector('.addToFavoriteButton');\n  if (localStorage.getItem('favArr') === null) {\n    localStorage.setItem('favArr', JSON.stringify([]));\n  }\n  let favArr = JSON.parse(localStorage.getItem('favArr'));\n  if (favArr.includes(recipeId)) {\n    addToFavBtn.textContent = 'Added to Favorites';\n  } else {\n    addToFavBtn.addEventListener('click', function () {\n      const favButton = document.querySelector(`svg[data-id=\"${recipeId}\"]`);\n      const emptyHeart = favButton.querySelector('.svguse');\n      emptyHeart.setAttribute('href', `${sprite}#icon-heart-filled`);\n      favArr.push(recipeId);\n      localStorage.setItem('favArr', JSON.stringify(favArr));\n      addToFavBtn.textContent = 'Added to Favorites';\n    });\n  }\n}\n","document.addEventListener('DOMContentLoaded', function () {\n  function openModal() {\n    let modal = document.getElementById('myModal');\n    if (modal) {\n      modal.style.display = 'block';\n    }\n  }\n\n  function closeModal() {\n    let modal = document.getElementById('myModal');\n    if (modal) {\n      modal.style.display = 'none';\n    }\n  }\n\n  // Modal dışına tıklama ile kapatma\n  window.addEventListener('click', function (event) {\n    let modal = document.getElementById('myModal');\n    if (modal && event.target === modal) {\n      closeModal();\n    }\n  });\n\n  // Esc tuşuna basıldığında modalı kapatma\n  document.addEventListener('keydown', function (event) {\n    if (event.key === 'Escape') {  // Esc tuşu\n      closeModal();\n    }\n  });\n\n  let openModalBtn = document.getElementById('openModalBtn');\n  let closeModalBtn = document.getElementById('closeModalBtn'); // closeModelBtn to modal :p\n\n  if (openModalBtn) {\n    openModalBtn.addEventListener('click', openModal);\n  }\n\n  if (closeModalBtn) {\n    closeModalBtn.addEventListener('click', closeModal);\n  }\n});\n\n\n"],"names":["document","addEventListener","themeToggle","getElementById","sideMenuThemeToggle","mobileMenuToggle","closeSideMenu","sideMenu","sunSideList","querySelectorAll","moonSideList","body","changedWeather","forEach","sunSide","classList","toggle","moonSide","toggleDarkMode","isDarkMode","contains","localStorage","setItem","toggleMobileMenu","remove","add","getItem","event","target","sprite","initModal","modal","querySelector","onclick","closeModal","window","key","style","display","async","openModal","recipeId","modalContent","innerHTML","response","fetch","recipe","json","instructions","split","join","filledStars","Math","round","rating","emptyStars","URL","youtube","searchParams","get","title","toFixed","repeat","time","ingredients","map","ing","name","measure","addToFavBtn","JSON","stringify","favArr","parse","includes","textContent","setAttribute","push","addModalFavListeners","error","openModalBtn","closeModalBtn"],"mappings":"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"}