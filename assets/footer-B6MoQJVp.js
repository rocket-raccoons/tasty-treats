import{i as e}from"./vendor-7fbXf6x8.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("themeToggle"),t=document.getElementById("sideMenuThemeToggle"),n=document.getElementById("mobileMenuToggle"),s=document.getElementById("closeSideMenu"),a=document.getElementById("sideMenu"),i=document.querySelectorAll(".sunSide"),o=document.querySelectorAll(".moonSide"),r=document.body;function c(){i.forEach((e=>{e&&e.classList.toggle("show")})),o.forEach((e=>{e&&e.classList.toggle("show")}))}function d(){r.classList.toggle("dark-mode"),e.classList.toggle("active"),t.classList.toggle("active"),c();const n=r.classList.contains("dark-mode");localStorage.setItem("darkMode",n)}function l(){a.classList.contains("showSide")?a.classList.remove("showSide"):a.classList.add("showSide")}e.addEventListener("click",d),t.addEventListener("click",d),n.addEventListener("click",l),s.addEventListener("click",l);"true"===localStorage.getItem("darkMode")&&(r.classList.add("dark-mode"),e.classList.add("active"),t.classList.add("active"),c()),document.addEventListener("click",(e=>{a.classList.contains("active")&&!a.contains(e.target)&&e.target!==n&&a.classList.remove("active")}))}));const n="/tasty-treats/assets/sprite-BPCn2-Kf.svg",s=document.getElementById("filter-form"),a=document.getElementById("time-options"),i=document.getElementById("area-options"),o=document.getElementById("ingredient-options"),r=document.getElementById("time-trigger-text"),c=document.getElementById("area-trigger-text"),d=document.getElementById("ingredient-trigger-text"),l=document.getElementById("search"),u=document.getElementById("cancel-btn"),g=document.getElementById("reset-filter-btn"),m=document.getElementById("loader"),v=document.querySelector(".pagination"),p=document.querySelector(".cards-list");let f=JSON.parse(localStorage.getItem("favArr"))||[];function y(e){const t=localStorage.getItem("favArr")?JSON.parse(localStorage.getItem("favArr")):[];p.innerHTML="",0===e.length?(p.innerHTML='\n    <div class="no-results-container">\n      <p class="no-results-text">Sorry! No results were found that match your filters.</p>\n      <img class="no-results" src="/tasty-treats/assets/nothing-BxBcHaW7.gif"></img>\n    </div>',v.classList.add("hidden")):(v.classList.remove("hidden"),e.forEach((e=>{const s=Math.round(e.rating),a=5-s,i=`\n      <li class="cards-listing" style="background-image: url(${e.preview});">\n      <button class="heard-button add-to-fav" data-category="${e.category}" data-id="${e._id}" aria-label="like-btn">\n         <svg class="svg-heard add-to-fav" data-id="${e._id}" width="22px" height="22px">\n            <use class="add-to-fav svguse" href="${n}#${t.includes(e._id)?"icon-heart-filled":"icon-heart"}"></use>\n        </svg></button>\n\n      <div class="card-content-container">\n         <div class="text-container">\n            <h3 class="card-title">${e.title}</h3>\n              <p class="specification-text">${e.description}</p>\n          </div>\n\n          <div class="card-rating-container">\n              <div class="rating-container">\n                  <p class="rating-text">${e.rating.toFixed(1)}</p>\n                  <div class="star-container">\n                    ${`<svg class="card-star-svg">\n                    <use href="${n}#icon-star"></use>\n                      </svg>`.repeat(s)}\n\n                    ${`<svg class="card-star-svg">\n                    <use href="${n}#icon-emptystar"></use>\n                    </svg>`.repeat(a)}\n                  </div>    \n                </div>\n              \n            <button class="recipe-button" data-id="${e._id}">See recipe</button>\n        </div>      \n      </li>\n    `;p.insertAdjacentHTML("beforeend",i)})),h())}function h(){document.querySelectorAll(".recipe-button").forEach((e=>{e.addEventListener("click",(function(){L(this.getAttribute("data-id"))}))}))}function E(){const e=document.getElementById("recipeModal");e.querySelector(".modal-close-button").onclick=b,window.onclick=function(t){t.target===e&&b()},document.addEventListener("keydown",(function(t){"Escape"===t.key&&"block"===e.style.display&&b()}))}async function L(e){const t=document.getElementById("recipeModal"),s=t.querySelector(".modal-content");s.innerHTML="<p>Loading recipe details...</p>",t.style.display="block";try{const t=await fetch(`https://tasty-treats-backend.p.goit.global/api/recipes/${e}`),a=await t.json(),i=a.instructions.split(".").join("<br>"),o=Math.round(a.rating),r=5-o;s.innerHTML=`\n        <div class= "modal-heading">\n          <div style="flex: 1;">\n            <iframe class="modal-iframe" src="https://www.youtube.com/embed/${new URL(a.youtube).searchParams.get("v")}" frameborder="0" allowfullscreen></iframe>\n          </div>\n        <div class="modal-recipe-container" style="flex: 1;">\n        <h2>${a.title}</h2>\n        <div class="modal-rating-container">\n        <div class="modal-star-container">\n              <div class="rating-container">\n                  <p class="rating-text">${a.rating.toFixed(1)}</p>\n                  <div class="star-container">\n                    ${`<svg class="card-star-svg">\n                    <use href="${n}#icon-star"></use>\n                      </svg>`.repeat(o)}\n\n                    ${`<svg class="card-star-svg modal-empty-star">\n                    <use href="${n}#icon-emptystar-modal"></use>\n                    </svg>`.repeat(r)}\n                  </div>    \n                </div>\n        </div>\n        <p class="cooking-time">${a.time} min</p>\n        </div>\n        <div class="modal-recipe-ingredients-container">\n        \x3c!-- <h3>Ingredients:</h3> --\x3e\n        <ul class="modal-recipe-ingredients">\n          ${a.ingredients.map((e=>`<li class="modal-recipe-ingredients-item"><p class="ingredient">${e.name}</p><p class="ingredient-portion"> ${e.measure}</p></li>`)).join("")}\n        </ul>\n        </div>\n        </div>\n        </div>\n        <p class="modal-recipe-instructions">${i}</p>\n        <div style="display: flex; gap: 20px; margin-top: 20px;">\n          <button class="addToFavoriteButton">Add to Favorite</button>\n          <button class="giveRatingButton">Give a Rating</button>\n        </div>\n        </div>\n      `,function(e){const t=document.querySelector(".addToFavoriteButton");null===localStorage.getItem("favArr")&&localStorage.setItem("favArr",JSON.stringify([]));if(f.includes(e))t.textContent="Added to Favorites";else{const s=function(){document.querySelector(`svg[data-id="${e}"]`).querySelector(".svguse").setAttribute("href",`${n}#icon-heart-filled`),f.push(e),localStorage.setItem("favArr",JSON.stringify(f)),t.textContent="Added to Favorites",t.removeEventListener("click",s)};t.addEventListener("click",s)}}(e)}catch(a){s.innerHTML="<p>Error loading recipe details. Please try again.</p>"}}function b(){document.getElementById("recipeModal").style.display="none"}"/tasty-treats/favorites.html"!==window.location.pathname&&document.addEventListener("DOMContentLoaded",(()=>{p&&p.addEventListener("click",(e=>function(e){const t=e.target.closest(".heard-button");if(t){const e=t.dataset.id,s=t.querySelector(".svguse");f.includes(e)?(f.splice(f.indexOf(e),1),s.setAttribute("href",`${n}#icon-heart`)):(f.push(e),s.setAttribute("href",`${n}#icon-heart-filled`)),localStorage.setItem("favArr",JSON.stringify(f))}}(e))),setTimeout((()=>{(async function(){try{const e=await fetch("https://tasty-treats-backend.p.goit.global/api/recipes?limit=9"),t=await e.json();return y(t.results),t.totalPages}catch(t){return e.error({title:"",message:"Sorry! An error occurred while fetching recipes. Please try again!",position:"topRight"}),"error"}})().then((()=>{h(),E()}))}),100);const t=localStorage.getItem("favArr");t&&(f=JSON.parse(t))})),document.addEventListener("DOMContentLoaded",(function(){function e(){let e=document.getElementById("myModal");e&&(e.style.display="none")}window.addEventListener("click",(function(t){let n=document.getElementById("myModal");n&&t.target===n&&e()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&e()}));let t=document.getElementById("openModalBtn"),n=document.getElementById("closeModalBtn");t&&t.addEventListener("click",(function(){let e=document.getElementById("myModal");e&&(e.style.display="block")})),n&&n.addEventListener("click",e)}));export{i as a,p as b,u as c,y as d,r as e,s as f,c as g,d as h,o as i,E as j,n as k,m as l,t as m,L as o,v as p,g as r,l as s,a as t};
//# sourceMappingURL=footer-B6MoQJVp.js.map
