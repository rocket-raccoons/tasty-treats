const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/footer-B6MoQJVp.js","assets/vendor-7fbXf6x8.js","assets/vendor-DnveWo0P.css","assets/footer-C7i7WHeW.css"])))=>i.map(i=>d[i]);
import{a as e,i as t,t as a,s as n,c as o,f as r,r as s,b as i,d as c,e as l,g as d,h as g,l as m,p as u}from"./assets/footer-B6MoQJVp.js";import{d as p,i as y}from"./assets/vendor-7fbXf6x8.js";const h={},f=["/tasty-treats/assets/1-rDOwHOuF.webp","/tasty-treats/assets/2-4skkltV-.webp","/tasty-treats/assets/3-D0-ZMNjm.webp","/tasty-treats/assets/4-BmSdx1zx.webp","/tasty-treats/assets/5-BCo80kwS.webp","/tasty-treats/assets/5-BCo80kwS.webp","/tasty-treats/assets/7-CqGGUQ5C.webp","/tasty-treats/assets/8-GawR9MF4.webp","/tasty-treats/assets/8-GawR9MF4.webp"];document.addEventListener("DOMContentLoaded",(function(){setTimeout((()=>{(function(e,t){let a=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));a=Promise.allSettled(t.map((e=>{if((e=function(e){return"/tasty-treats/"+e}(e))in h)return;h[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,n&&o.setAttribute("nonce",n),document.head.appendChild(o),t?new Promise(((t,a)=>{o.addEventListener("load",t),o.addEventListener("error",(()=>a(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then((t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)}))})((()=>import("./assets/footer-B6MoQJVp.js").then((e=>e.m))),__vite__mapDeps([0,1,2,3])).then((()=>{const e=document.querySelector(".slider"),t=document.querySelectorAll(".slide"),a=document.querySelectorAll(".lazy-image"),n=document.querySelector(".slider-indicators");let o=0,r=100;(()=>{const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{if(e.isIntersecting){const a=e.target;a.src=f[Number(a.dataset.src)-1],a.classList.remove("lazy-image"),t.unobserve(a)}}))}),{threshold:.1});a.forEach((t=>e.observe(t)))})(),t.forEach(((e,t)=>{const a=document.createElement("div");a.classList.add("indicator"),a.addEventListener("click",(()=>function(e){o=e,i()}(t))),n.appendChild(a)}));const s=document.querySelectorAll(".indicator");function i(){e.style.transform=`translateX(-${o*r}%)`,s.forEach(((e,t)=>{t===o?e.classList.add("active"):e.classList.remove("active")}))}function c(){const t=e.offsetWidth;r=window.innerWidth>=1280?602/t*100:window.innerWidth>=768&&window.innerWidth<945?t/1/t*100:100,i()}c(),i(),window.addEventListener("resize",c),setInterval((()=>{o=(o+1)%t.length,i()}),5e3)})).catch((e=>{}))}),100)}));const w=document.getElementById("orderForm"),b=document.querySelector(".order"),L=document.querySelector(".close-button");function E(){document.getElementById("popupOverlay").style.display="none"}b.addEventListener("click",(e=>(document.getElementById("popupOverlay").style.display="block",void w.reset()))),L.addEventListener("click",(e=>E())),w.addEventListener("submit",(e=>{E()}));function v(t){t.forEach((t=>{const a=`<li data-area="${t.name}" data-name="area" class="option">${t.name}</li>`;e.insertAdjacentHTML("beforeend",a)}))}function S(e){e.forEach((e=>{const a=`<li data-ingredient="${e._id}" data-name="ingredient" class="option">${e.name}</li>`;t.insertAdjacentHTML("beforeend",a)}))}function I(){localStorage.setItem("time",""),localStorage.setItem("area",""),localStorage.setItem("ingredient",""),localStorage.setItem("title",""),localStorage.setItem("totalPage",""),localStorage.setItem("category","")}document.addEventListener("DOMContentLoaded",(()=>{!async function(){try{const e=await fetch("https://tasty-treats-backend.p.goit.global/api/areas");if(!e.ok)throw new Error("Failed to fetch areas");v(await e.json())}catch(e){v([{name:"Sorry no region to select"}])}}(),async function(){try{const e=await fetch("https://tasty-treats-backend.p.goit.global/api/ingredients");if(!e.ok)throw new Error("Failed to fetch ingredients");S(await e.json())}catch(e){S([{name:"Sorry no ingredients to select"}])}}(),function(){for(let e=5;e<=120;e+=5){const t=`<li data-time="${e}" data-name="time" class="option">${e} min</li>`;a.insertAdjacentHTML("beforeend",t)}}(),I()}));let k="https://tasty-treats-backend.p.goit.global/api/recipes?category=&page=1&limit=9";async function $(e){try{i.innerHTML="",q();const t=await fetch(e);if(!t.ok)throw new Error("An error occurred while fetching recipes");const a=await t.json();localStorage.setItem("totalPage",a.totalPages?a.totalPages:1),W(1,"form-read"),c(a.results)}catch(t){y.error({title:"",message:"Sorry! An error occurred while fetching recipes please try again!",position:"topRight"})}finally{A()}}const C=p((function(){""!==n.value?o.classList.remove("hidden"):o.classList.add("hidden");const e=localStorage.getItem("category"),t=localStorage.getItem("time"),a=localStorage.getItem("area"),r=localStorage.getItem("ingredient"),s=n.value.trim();k=`https://tasty-treats-backend.p.goit.global/api/recipes?category=${e}&page=1&limit=9&time=${t}&area=${a}&ingredient=${r}&title=${s}`,localStorage.setItem("title",n.value?s:""),$(k)}),300);function j(){k="https://tasty-treats-backend.p.goit.global/api/recipes?category=&page=1&limit=9",[l,d,g].forEach((e=>{e.textContent="Select",e.classList.remove("trigger-active")})),n.value="";document.querySelectorAll(".category-btn").forEach((e=>{e.style.color=""})),o.classList.add("hidden"),I(),$(k)}function q(){m.classList.remove("hidden"),u.classList.add("hidden-pagination")}function A(){m.classList.add("hidden"),u.classList.remove("hidden-pagination")}function M(){[a,e,t].forEach((e=>e.classList.add("hidden-dropdown")))}function P(n){let o=n.target.id;switch("svg"!==n.target.tagName&&"SPAN"!==n.target.tagName||(o=n.target.parentElement.id),o){case"time-trigger":a.classList.toggle("hidden-dropdown");break;case"area-trigger":e.classList.toggle("hidden-dropdown");break;case"ingredient-trigger":t.classList.toggle("hidden-dropdown");break;default:if("LI"===n.target.tagName){!function(e,t){if("LI"!==t.target.tagName)return;const a=localStorage.getItem("category"),n=document.getElementById(`${e}-trigger-text`),o=document.getElementById(`${e}-options`),r=t.target.dataset[e];n.textContent=t.target.textContent,localStorage.setItem(`${e}`,r),k=k.includes(e)?k.replace(new RegExp(`${e}=[^&]*`),`${e}=${r}`):`${k}&${e}=${r}`,k=k.includes("category")?k.replace(/category=[^&]*/,`category=${a}`):`${k}&category=${a}`,o.classList.add("hidden-dropdown"),n.classList.add("trigger-active"),$(k)}(n.target.dataset.name,n)}else M()}}r.addEventListener("click",(e=>P(e))),n.addEventListener("input",C),o.addEventListener("click",(function(){n.value="",o.classList.add("hidden"),C()})),s.addEventListener("click",j),window.addEventListener("click",(e=>function(e){r&&!r.contains(e.target)&&M()}(e)));const B=document.querySelector(".pagination"),T=document.querySelectorAll(".page-number"),x=document.getElementById("singleLeft"),O=document.getElementById("singleRight"),R=document.getElementById("doubleLeft"),D=document.getElementById("doubleRight");let N=1,H=1,F=null;function _(){let e=-1;N==H&&1!=H&&(e=-2),N!=H&&1==N&&(e=0),T.forEach(((t,a)=>{const n=N+e+a;t.textContent=n,t.classList.toggle("active-page",n==N),t.style.display=n>0&&n<=H?"inline-block":"none"})),x.disabled=1==N,R.disabled=1==N,O.disabled=N==H,D.disabled=N==H}function W(e,t){H=localStorage.getItem("totalPage")?Number(localStorage.getItem("totalPage")):F,e>=1&&e<=H&&(N=e,_()),"page-number"==t&&function(e){const t=localStorage.getItem("time"),a=localStorage.getItem("category")?localStorage.getItem("category"):"",n=localStorage.getItem("area"),o=localStorage.getItem("ingredient"),r=localStorage.getItem("title");!async function(e){i.innerHTML="",q();try{const t=await fetch(e);if(!t.ok)throw new Error("An error occurred while fetching recipes");const a=await t.json();c(a.results)}catch(t){y.error({title:"",message:"Sorry! An error occurred while fetching recipes please try again!",position:"topRight"})}finally{A()}}(`https://tasty-treats-backend.p.goit.global/api/recipes?category=${a}&page=${e}&limit=9&time=${t}&area=${n}&ingredient=${o}&title=${r}`)}(e)}B.addEventListener("click",(e=>{e.target.classList.contains("page-number")?W(parseInt(e.target.textContent),"page-number"):"singleLeft"===e.target.id?W(N-1,"page-number"):"singleRight"===e.target.id?W(N+1,"page-number"):"doubleLeft"===e.target.id?W(1,"page-number"):"doubleRight"===e.target.id&&W(H,"page-number")})),document.addEventListener("DOMContentLoaded",(async function(){H=await async function(){try{const e=await fetch("https://tasty-treats-backend.p.goit.global/api/recipes?limit=9");return(await e.json()).totalPages}catch(e){return 1}}(),F=H,_()}));const z=document.querySelector(".category-items-list");document.querySelector(".categories-button").addEventListener("click",j),document.addEventListener("DOMContentLoaded",(async function(){localStorage.setItem("category","");try{const e=await fetch("https://tasty-treats-backend.p.goit.global/api/categories"),t=await e.json();!function(e){e.forEach((e=>{z.innerHTML+=`\n            <li class="category-items"><button class="category-btn">${e}</button></li>\n        `}))}(t.map((e=>e.name))),function(){const e=document.querySelectorAll(".category-btn");e.forEach((t=>{t.addEventListener("click",(t=>{e.forEach((e=>{e.style.color=""})),t.target.style.color="var(--primary-color)";let a=t.target.innerText;localStorage.setItem("category",a),async function(e){const t=localStorage.getItem("time"),a=localStorage.getItem("area"),n=localStorage.getItem("ingredient"),o=localStorage.getItem("title"),r=`https://tasty-treats-backend.p.goit.global/api/recipes?category=${e}&page=1&limit=9&time=${t}&area=${a}&ingredient=${n}&title=${o}`;try{i.innerHTML="",q();const t=await fetch(r),a=await t.json();localStorage.setItem("totalPage",a.totalPages?a.totalPages:1),localStorage.setItem("category",e);const n=a.results;c(n)}catch(s){}finally{A(),W(1,"category-list")}}(a)}))}))}()}catch(e){}})),document.addEventListener("DOMContentLoaded",(()=>{!async function(){try{const e=await fetch("https://tasty-treats-backend.p.goit.global/api/recipes/popular"),t=await e.json(),a=document.querySelector("#popular-recipes-gallery");a.innerHTML="";const n=document.createDocumentFragment();t.forEach(((e,t)=>{const a=document.createElement("li"),o=document.createElement("div");o.classList.add("recipe-container"),2!==t&&3!==t||o.classList.add("mobile-special");const r=document.createElement("img");r.src=e.preview||"default-image.jpg",r.alt=e.title||"Unknown Recipe",r.width=64,r.height=64;const s=document.createElement("div");s.classList.add("recipe-content");const i=document.createElement("h2");i.textContent=e.title||"Unknown Recipe",i.classList.add("recipe-content-title");const c=document.createElement("p");c.textContent=e.description||"No instructions provided",c.classList.add("recipe-content-instructions"),s.appendChild(i),s.appendChild(c),o.appendChild(r),o.appendChild(s),a.appendChild(o),n.appendChild(a)})),a.appendChild(n)}catch(e){}}()}));const G=document.getElementById("scrollBtn");window.addEventListener("scroll",(function(){window.scrollY>300?G.style.display="block":G.style.display="none"})),G.addEventListener("click",(e=>(e.preventDefault(),void window.scrollTo({top:0,behavior:"smooth"}))));
//# sourceMappingURL=index.js.map
