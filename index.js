const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/footer-CAroOt1-.js","assets/footer-hzeFs66m.css"])))=>i.map(i=>d[i]);
import{i as D,s as S,o as F}from"./assets/footer-CAroOt1-.js";import{i as C,d as Z}from"./assets/vendor-CIM6REQF.js";const K="modulepreload",tt=function(t){return"/tasty-treats/"+t},_={},et=function(e,a,n){let o=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(a.map(s=>{if(s=tt(s),s in _)return;_[s]=!0;const g=s.endsWith(".css"),h=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${h}`))return;const d=document.createElement("link");if(d.rel=g?"stylesheet":K,g||(d.as="script"),d.crossOrigin="",d.href=s,c&&d.setAttribute("nonce",c),document.head.appendChild(d),g)return new Promise((l,f)=>{d.addEventListener("load",l),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})}))}function r(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return o.then(i=>{for(const c of i||[])c.status==="rejected"&&r(c.reason);return e().catch(r)})},at="/tasty-treats/assets/1-rDOwHOuF.webp",nt="/tasty-treats/assets/2-4skkltV-.webp",ot="/tasty-treats/assets/3-D0-ZMNjm.webp",rt="/tasty-treats/assets/4-BmSdx1zx.webp",st="/tasty-treats/assets/5-BCo80kwS.webp",it="/tasty-treats/assets/5-BCo80kwS.webp",ct="/tasty-treats/assets/7-CqGGUQ5C.webp",lt="/tasty-treats/assets/8-GawR9MF4.webp",dt="/tasty-treats/assets/8-GawR9MF4.webp",gt=[at,nt,ot,rt,st,it,ct,lt,dt];document.addEventListener("DOMContentLoaded",function(){setTimeout(()=>{et(()=>import("./assets/footer-CAroOt1-.js").then(t=>t.a),__vite__mapDeps([0,1])).then(()=>{const t=document.querySelector(".slider"),e=document.querySelectorAll(".slide"),a=document.querySelectorAll(".lazy-image"),n=document.querySelector(".slider-indicators");let o=0,r=100;(()=>{const l=new IntersectionObserver((f,E)=>{f.forEach(M=>{if(M.isIntersecting){const I=M.target;I.src=gt[Number(I.dataset.src)-1],I.classList.remove("lazy-image"),E.unobserve(I)}})},{threshold:.1});a.forEach(f=>l.observe(f))})(),e.forEach((l,f)=>{const E=document.createElement("div");E.classList.add("indicator"),E.addEventListener("click",()=>h(f)),n.appendChild(E)});const c=document.querySelectorAll(".indicator");function s(){t.style.transform=`translateX(-${o*r}%)`,g()}function g(){c.forEach((l,f)=>{f===o?l.classList.add("active"):l.classList.remove("active")})}function h(l){o=l,s()}function d(){const l=t.offsetWidth;window.innerWidth>=1280?r=602/l*100:window.innerWidth>=768&&window.innerWidth<945?r=l/1/l*100:r=100,s()}d(),s(),window.addEventListener("resize",d),setInterval(()=>{o=(o+1)%e.length,s()},5e3)}).catch(t=>{console.error("CSS yüklenirken bir hata oluştu:",t)})},100)});const ut="/tasty-treats/assets/nothing-BxBcHaW7.gif",B=document.getElementById("filter-form"),T=document.getElementById("time-options"),P=document.getElementById("area-options"),R=document.getElementById("ingredient-options"),mt=document.getElementById("time-trigger-text"),pt=document.getElementById("area-trigger-text"),ft=document.getElementById("ingredient-trigger-text"),L=document.getElementById("search"),w=document.getElementById("cancel-btn"),ht=document.getElementById("reset-filter-btn"),N=document.getElementById("loader"),$=document.querySelector(".pagination"),v=document.querySelector(".cards-list"),b=JSON.parse(localStorage.getItem("favArr"))||[];async function yt(){try{const e=await(await fetch("https://tasty-treats-backend.p.goit.global/api/recipes?limit=9")).json();return k(e.results),e.totalPages}catch(t){return C.error({title:"",message:"Sorry! An error occured while fetching recipes. Please try again!",position:"topRight"}),console.error("API verisi alınırken hata oluştu:",t),"hata"}}function k(t){const e=localStorage.getItem("favArr")?JSON.parse(localStorage.getItem("favArr")):[];v.innerHTML="",t.length===0?(v.innerHTML=`
    <div class="no-results-container loader-container">
      <p class="no-results-text">Sorry! No results were found that match your filters.</p>
      <img class="no-results" src="${ut}"></img>
    </div>`,$.classList.add("hidden")):($.classList.remove("hidden"),t.forEach(a=>{const n=Math.round(a.rating),o=5-n,r=`
      <li class="cards-listing" style="background-image: url(${a.preview});">
      <button class="heard-button add-to-fav" data-category="${a.category}" data-id="${a._id}" aria-label="like-btn">
         <svg class="svg-heard add-to-fav" data-id="${a._id}" width="22px" height="22px">
            <use class="add-to-fav svguse" href="${S}#${e.includes(a._id)?"icon-heart-filled":"icon-heart"}"></use>
        </svg></button>

      <div class="card-content-container">
         <div class="text-container">
            <h3 class="card-title">${a.title}</h3>
              <p class="specification-text">${a.description}</p>
          </div>

          <div class="card-rating-container">
              <div class="rating-container">
                  <p class="rating-text">${a.rating.toFixed(1)}</p>
                  <div class="star-container">
                    ${`<svg class="card-star-svg">
                    <use href="${S}#icon-star"></use>
                      </svg>`.repeat(n)}

                    ${`<svg class="card-star-svg">
                    <use href="${S}#icon-emptystar"></use>
                    </svg>`.repeat(o)}
                  </div>    
                </div>
              
            <button class="recipe-button" data-id="${a._id}">See recipe</button>
        </div>      
      </li>
    `;v.insertAdjacentHTML("beforeend",r)}),U())}function U(){document.querySelectorAll(".recipe-button").forEach(e=>{e.addEventListener("click",function(){const a=this.getAttribute("data-id");F(a)})})}function vt(t){const e=t.target.closest(".heard-button");if(JSON.parse(localStorage.getItem("favArr")),e){const a=e.dataset.id,n=e.querySelector(".svguse");b.includes(a)?(b.splice(b.indexOf(a),1),n.setAttribute("href",`${S}#icon-heart`)):(b.push(a),n.setAttribute("href",`${S}#icon-heart-filled`)),localStorage.setItem("favArr",JSON.stringify(b))}}v.addEventListener("click",t=>vt(t));document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{yt().then(()=>{U(),D()})},100);const t=localStorage.getItem("favArr");t&&b.push(...JSON.parse(t))});const W=document.getElementById("orderForm"),bt=document.querySelector(".order"),Lt=document.querySelector(".close-button");bt.addEventListener("click",t=>Et());Lt.addEventListener("click",t=>z());W.addEventListener("submit",t=>{z()});function Et(){document.getElementById("popupOverlay").style.display="block",W.reset()}function z(){document.getElementById("popupOverlay").style.display="none"}const St="https://tasty-treats-backend.p.goit.global/api/areas",wt="https://tasty-treats-backend.p.goit.global/api/ingredients";async function It(){try{const t=await fetch(St);if(!t.ok)throw new Error("Failed to fetch areas");const e=await t.json();j(e)}catch{j([{name:"Sorry no region to select"}])}}function j(t){t.forEach(e=>{const a=`<li data-area="${e.name}" data-name="area" class="option">${e.name}</li>`;P.insertAdjacentHTML("beforeend",a)})}async function $t(){try{const t=await fetch(wt);if(!t.ok)throw new Error("Failed to fetch ingredients");const e=await t.json();H(e)}catch{H([{name:"Sorry no ingredients to select"}])}}function H(t){t.forEach(e=>{const a=`<li data-ingredient="${e._id}" data-name="ingredient" class="option">${e.name}</li>`;R.insertAdjacentHTML("beforeend",a)})}function kt(){for(let t=5;t<=120;t+=5){const e=`<li data-time="${t}" data-name="time" class="option">${t} min</li>`;T.insertAdjacentHTML("beforeend",e)}}function G(){localStorage.setItem("time",""),localStorage.setItem("area",""),localStorage.setItem("ingredient",""),localStorage.setItem("title",""),localStorage.setItem("totalPage",""),localStorage.setItem("category","")}document.addEventListener("DOMContentLoaded",()=>{It(),$t(),kt(),G()});let u="https://tasty-treats-backend.p.goit.global/api/recipes?category=&page=1&limit=9";async function x(t){try{v.innerHTML="",q();const e=await fetch(t);if(!e.ok)throw new Error("An error occurred while fetching recipes");const a=await e.json();localStorage.setItem("totalPage",a.totalPages?a.totalPages:1),y(1,"form-read"),k(a.results)}catch(e){C.error({title:"",message:"Sorry! An error occurred while fetching recipes please try again!",position:"topRight"}),console.log(e.message)}finally{O()}}function Bt(t,e){if(e.target.tagName!=="LI")return;const a=localStorage.getItem("category"),n=document.getElementById(`${t}-trigger-text`),o=document.getElementById(`${t}-options`),r=e.target.dataset[t];n.textContent=e.target.textContent,localStorage.setItem(`${t}`,r),u=u.includes(t)?u.replace(new RegExp(`${t}=[^&]*`),`${t}=${r}`):`${u}&${t}=${r}`,u=u.includes("category")?u.replace(/category=[^&]*/,`category=${a}`):`${u}&category=${a}`,o.classList.add("hidden-dropdown"),n.classList.add("trigger-active"),x(u)}const J=Z(function(){L.value!==""?w.classList.remove("hidden"):w.classList.add("hidden");const t=localStorage.getItem("category"),e=localStorage.getItem("time"),a=localStorage.getItem("area"),n=localStorage.getItem("ingredient"),o=L.value.trim();u=`https://tasty-treats-backend.p.goit.global/api/recipes?category=${t}&page=1&limit=9&time=${e}&area=${a}&ingredient=${n}&title=${o}`,localStorage.setItem("title",L.value?o:""),x(u)},300);function V(){u="https://tasty-treats-backend.p.goit.global/api/recipes?category=&page=1&limit=9",[mt,pt,ft].forEach(e=>{e.textContent="Select",e.classList.remove("trigger-active")}),L.value="",document.querySelectorAll(".category-btn").forEach(e=>{e.style.color=""}),w.classList.add("hidden"),G(),x(u)}function At(){L.value="",w.classList.add("hidden"),J()}function q(){N.classList.remove("hidden"),$.classList.add("hidden-pagination")}function O(){N.classList.add("hidden"),$.classList.remove("hidden-pagination")}function Q(){[T,P,R].forEach(t=>t.classList.add("hidden-dropdown"))}function Ct(t){B&&!B.contains(t.target)&&Q()}function Tt(t){let e=t.target.id;switch((t.target.tagName==="svg"||t.target.tagName==="SPAN")&&(e=t.target.parentElement.id),e){case"time-trigger":T.classList.toggle("hidden-dropdown");break;case"area-trigger":P.classList.toggle("hidden-dropdown");break;case"ingredient-trigger":R.classList.toggle("hidden-dropdown");break;default:if(t.target.tagName==="LI"){const a=t.target.dataset.name;Bt(a,t)}else Q()}}B.addEventListener("click",t=>Tt(t));L.addEventListener("input",J);w.addEventListener("click",At);ht.addEventListener("click",V);window.addEventListener("click",t=>Ct(t));const Pt=document.querySelector(".pagination"),Rt=document.querySelectorAll(".page-number"),xt=document.getElementById("singleLeft"),qt=document.getElementById("singleRight"),Ot=document.getElementById("doubleLeft"),Mt=document.getElementById("doubleRight");let m=1,p=1,X=null;async function _t(){p=await Ht(),X=p,Y()}async function jt(t){v.innerHTML="",q();try{const e=await fetch(t);if(!e.ok)throw new Error("An error occurred while fetching recipes");const a=await e.json();k(a.results)}catch{C.error({title:"",message:"Sorry! An error occurred while fetching recipes please try again!",position:"topRight"})}finally{O()}}async function Ht(){try{return(await(await fetch("https://tasty-treats-backend.p.goit.global/api/recipes?limit=9")).json()).totalPages}catch(t){return console.error("API verisi alınırken hata oluştu:",t),1}}function Y(){let t=-1;m==p&&p!=1&&(t=-2),m!=p&&m==1&&(t=0),Rt.forEach((e,a)=>{const n=m+t+a;e.textContent=n,e.classList.toggle("active-page",n==m),e.style.display=n>0&&n<=p?"inline-block":"none"}),xt.disabled=m==1,Ot.disabled=m==1,qt.disabled=m==p,Mt.disabled=m==p}function y(t,e){p=localStorage.getItem("totalPage")?Number(localStorage.getItem("totalPage")):X,t>=1&&t<=p&&(m=t,Y()),e=="page-number"&&Dt(t)}function Dt(t){const e=localStorage.getItem("time"),a=localStorage.getItem("category")?localStorage.getItem("category"):"",n=localStorage.getItem("area"),o=localStorage.getItem("ingredient"),r=localStorage.getItem("title");jt(`https://tasty-treats-backend.p.goit.global/api/recipes?category=${a}&page=${t}&limit=9&time=${e}&area=${n}&ingredient=${o}&title=${r}`)}Pt.addEventListener("click",t=>{t.target.classList.contains("page-number")?y(parseInt(t.target.textContent),"page-number"):t.target.id==="singleLeft"?y(m-1,"page-number"):t.target.id==="singleRight"?y(m+1,"page-number"):t.target.id==="doubleLeft"?y(1,"page-number"):t.target.id==="doubleRight"&&y(p,"page-number")});document.addEventListener("DOMContentLoaded",_t);const Ft=document.querySelector(".category-items-list"),Nt=document.querySelector(".categories-button");async function Ut(){const t="https://tasty-treats-backend.p.goit.global/api/categories";localStorage.setItem("category","");try{const n=(await(await fetch(t)).json()).map(o=>o.name);Gt(n),zt()}catch(e){console.log(e+"fetching categories")}}async function Wt(t){const e=localStorage.getItem("time"),a=localStorage.getItem("area"),n=localStorage.getItem("ingredient"),o=localStorage.getItem("title"),r=`https://tasty-treats-backend.p.goit.global/api/recipes?category=${t}&page=1&limit=9&time=${e}&area=${a}&ingredient=${n}&title=${o}`;try{v.innerHTML="",q();const c=await(await fetch(r)).json();localStorage.setItem("totalPage",c.totalPages?c.totalPages:1),localStorage.setItem("category",t);const s=c.results;k(s)}catch(i){console.log(i+"fetching chosen category recipes")}finally{O(),y(1,"category-list")}}function zt(){const t=document.querySelectorAll(".category-btn");t.forEach(e=>{e.addEventListener("click",a=>{t.forEach(o=>{o.style.color=""}),a.target.style.color="var(--primary-color)";let n=a.target.innerText;localStorage.setItem("category",n),Wt(n)})})}function Gt(t){t.forEach(e=>{Ft.innerHTML+=`
            <li class="category-items"><button class="category-btn">${e}</button></li>
        `})}Nt.addEventListener("click",V);document.addEventListener("DOMContentLoaded",Ut);document.addEventListener("DOMContentLoaded",()=>{D(),Jt()});async function Jt(){try{const a=await(await fetch("https://tasty-treats-backend.p.goit.global/api/recipes/popular")).json(),n=document.querySelector("#popular-recipes-gallery");n.innerHTML="";const o=document.createDocumentFragment();a.forEach((r,i)=>{const c=document.createElement("li"),s=document.createElement("div");s.classList.add("recipe-container"),(i===2||i===3)&&s.classList.add("mobile-special");const g=document.createElement("img");g.src=r.preview||"default-image.jpg",g.alt=r.title||"Unknown Recipe",g.width=64,g.height=64,g.addEventListener("click",()=>{r._id?F(r._id):console.warn("Recipe ID is undefined!")});const h=document.createElement("div");h.classList.add("recipe-content");const d=document.createElement("h2");d.textContent=r.title||"Unknown Recipe",d.classList.add("recipe-content-title");const l=document.createElement("p");l.textContent=r.description||"No instructions provided",l.classList.add("recipe-content-instructions"),h.appendChild(d),h.appendChild(l),s.appendChild(g),s.appendChild(h),c.appendChild(s),o.appendChild(c)}),n.appendChild(o)}catch(t){console.error("Error fetching data:",t)}}const A=document.getElementById("scrollBtn");function Vt(){window.scrollY>300?A.style.display="block":A.style.display="none"}function Qt(t){t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",Vt);A.addEventListener("click",t=>Qt(t));
//# sourceMappingURL=index.js.map
